<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terraquio - Programas para Quinceañeras</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Muli:ital,wght@0,400;0,700;0,900;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        body { font-family: 'Muli', sans-serif; background-color: #FFFFFF; overflow-x: hidden; padding-top: 72px; }
        @media (min-width: 768px) { body { padding-top: 88px; } }
        .bg-brand-dark-blue { background-color: #033E4C; }
        .text-brand-dark-blue { color: #033E4C; }
        .bg-brand-light-teal { background-color: #A4D4CC; }
        .text-brand-light-teal { color: #A4D4CC; }
        .btn-teal { background-color: #A4D4CC; color: #033E4C; font-weight: 700; transition: all 0.3s ease; }
        .btn-teal:hover { background-color: #033E4C; color: #A4D4CC; }
        .section-divider { @apply w-24 h-1 bg-brand-light-teal mx-auto mt-3 mb-6; }
        .card-quince { background-color: #033E4C; }
    </style>
</head>
<body class="bg-white">

    <header class="bg-white shadow-md fixed top-0 w-full z-50">
        <div class="container mx-auto px-6">
            <div class="flex items-center justify-between py-3">
                <div class="flex-shrink-0">
                    <a href="index.html"> <img src="recursos/Logo Terraquio_Mesa de trabajo 1.png" alt="Logo Terraquio" class="h-16 md:h-20"> </a>
                </div>
                <nav class="hidden lg:flex items-center justify-center flex-grow">
                    <div class="flex items-center space-x-6">
                        <a href="index.html" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">INICIO</a>
                        <a href="index.html#destacados" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">DESTACADOS</a>
                        <a href="index.html#grupales" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">GRUPALES</a>
                        <a href="#" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">DESTINOS</a>
                        <a href="quinceaneras.html" class="text-brand-light-teal hover:text-brand-light-teal font-bold text-sm uppercase">QUINCEAÑERAS</a>
                        <a href="index.html#nosotros" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">NOSOTROS</a>
                        <a href="index.html#contacto" class="text-brand-dark-blue hover:text-brand-light-teal font-bold text-sm uppercase">CONTACTO</a>
                    </div>
                </nav>
                 <div class="hidden lg:flex items-center space-x-4">
                    <a href="https://wa.me/5493416790064" target="_blank" class="text-brand-dark-blue hover:text-green-500"><i class="fab fa-whatsapp text-2xl"></i></a>
                </div>
                <div class="lg:hidden">
                    <button id="mobile-menu-button" class="text-gray-600 focus:outline-none"><i class="fa fa-bars text-3xl"></i></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden lg:hidden px-6 pb-4 border-t bg-white">
            <a href="index.html" class="block py-2 text-sm text-gray-700 hover:bg-brand-light-teal hover:text-brand-dark-blue rounded">INICIO</a>
            <a href="quinceaneras.html" class="block py-2 text-sm text-gray-700 bg-brand-light-teal text-brand-dark-blue rounded">QUINCEAÑERAS</a>
            </div>
    </header>

    <main>
        <section class="bg-brand-dark-blue text-white py-16 md:py-24">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-bold uppercase tracking-wider">Programas Quinceañeras</h1>
                <p class="text-lg md:text-xl mt-4 max-w-2xl mx-auto text-brand-light-teal">El viaje de tus sueños comienza acá. Creamos experiencias inolvidables para que celebres tus 15 de una manera única.</p>
            </div>
        </section>

        <section id="programas-quince" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center text-brand-dark-blue uppercase">Nuestros Programas</h2>
                <div class="section-divider"></div>
                
                <div id="programas-quince-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8">
                    <p class="col-span-full text-center text-gray-500">Cargando programas...</p>
                </div>
            </div>
        </section>
    </main>

    <footer id="contacto" class="bg-brand-dark-blue text-white mt-16">
        </footer>

    <script>
        const SUPABASE_URL = 'https://rwndahfhxxasuwycfjug.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ3bmRhaGZoeHhhc3V3eWNmanVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMzA3MjUsImV4cCI6MjA2ODYwNjcyNX0.gZCP_LDl_WDqnhIIDHdqa-kWsDkYpxJ6RQxZcPtC0ZQ';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // --- LÓGICA PARA CARGAR PROGRAMAS DE QUINCEAÑERAS ---
        const programasGrid = document.getElementById('programas-quince-grid');

        const fetchAndRenderPrograms = async () => {
            const { data, error } = await supabase
                .from('quinceaneras_programas')
                .select('*')
                .eq('activo', true)
                .order('orden', { ascending: true });

            if (error) {
                console.error('Error cargando los programas:', error);
                programasGrid.innerHTML = `<p class="col-span-full text-center text-red-500">No se pudieron cargar los programas. Intente más tarde.</p>`;
                return;
            }

            if (data && data.length > 0) {
                programasGrid.innerHTML = data.map(programa => {
                    // Preparamos el mensaje para WhatsApp
                    const whatsappMessage = encodeURIComponent(`Hola, quisiera consultar sobre el programa de quinceañeras ${programa.nombre}.`);
                    const whatsappLink = `https://wa.me/5493416790064?text=${whatsappMessage}`;
                    
                    return `
                    <div class="card-quince rounded-lg shadow-xl overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 flex flex-col">
                        <img class="w-full h-56 object-cover" src="${programa.imagen_url}" alt="Imagen de ${programa.nombre}">
                        <div class="p-6 flex flex-col flex-grow text-center">
                            <h3 class="text-2xl font-bold text-white uppercase">${programa.nombre}</h3>
                            <p class="text-md text-brand-light-teal uppercase mt-2 mb-4">${programa.descripcion}</p>
                            <div class="mt-auto">
                                <a href="${whatsappLink}" target="_blank" class="btn-teal py-2 px-6 rounded-full inline-block uppercase text-sm">
                                    ¡Consultanos!
                                </a>
                            </div>
                        </div>
                    </div>
                    `;
                }).join('');
            } else {
                programasGrid.innerHTML = `<p class="col-span-full text-center text-gray-600">No hay programas disponibles en este momento.</p>`;
            }
        };

        // --- INICIALIZACIÓN ---
        document.addEventListener('DOMContentLoaded', () => {
            fetchAndRenderPrograms();
            
            // Lógica del menú móvil
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
    </script>
</body>
</html>